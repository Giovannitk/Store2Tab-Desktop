<Window x:Class="Store2Tab.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="STORE sql ⇒ TABELLE" Height="600" Width="900"
        Background="#FF2D2D30">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Themes/SharedStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Menu superiore -->
            <RowDefinition Height="*"/>
            <!-- Contenuto principale -->
        </Grid.RowDefinitions>

        <!-- Menu superiore -->
        <Menu Grid.Row="0" Background="#FF3F3F46" Foreground="White" Height="25">
            <MenuItem Header="ANAGRAFICHE" Click="Menu_Click" Tag="ANAGRAFICHE">
                <MenuItem Header="Tipi di Attività" Click="Menu_Click" Tag="TIPIATTIVITA" Foreground="Black"/>
            </MenuItem>

            <MenuItem Header="DOCUMENTI">
                <MenuItem Header="Emessi" Foreground="Black">
                    <MenuItem Header="Numerazione" Click="Menu_Click" Tag="NUMERAZIONE" Foreground="Black"/>
                </MenuItem>
                <MenuItem Header="Scheda di Trasporto" Click="Menu_Click" Tag="SCHEDATRASPORTO" Foreground="Black"/>
                <MenuItem Header="Ordini" Foreground="Black">
                    <MenuItem Header="NumerazioneOrdini" Click="Menu_Click" Tag="NUMERAZIONEORDINI" Foreground="Black"/>
                </MenuItem>
                <MenuItem Header="Note Predefinite" Click="Menu_Click" Tag="NOTEPREDEFINITE" Foreground="Black"/>
                <MenuItem Header="Protocolli" Click="Menu_Click" Tag="PROTOCOLLI" Foreground="Black"/>
                <MenuItem Header="Protocolli Contatori" Click="Menu_Click" Tag="PROTOCOLLICONTATORI" Foreground="Black"/>
            </MenuItem>

            <MenuItem Header="BANCHE" Click="Menu_Click" Tag="BANCHE"/>

            <MenuItem Header="ARTICOLI" Tag="ARTICOLI">
                <MenuItem Header="Depositi" Click="Menu_Click" Tag="DEPOSITI" Foreground="Black"/>
                <MenuItem Header="Componenti" Click="Menu_Click" Tag="COMPONENTI" Foreground="Black"/>
            </MenuItem>

            <MenuItem Header="CAUSALI IVA" Click="Menu_Click" Tag="CAUSALIIVA"/>

            <MenuItem Header="CONTABILITA'">
                <MenuItem Header="Causali Movimento" Click="Menu_Click" Tag="CAUSALIMOVIMENTO" Foreground="Black"/>
            </MenuItem>

            <MenuItem Header="PAGAMENTI">
                <MenuItem Header="Tipi Pagamento" Click="Menu_Click" Tag="PAGAMENTI" Foreground="Black"/>
                <MenuItem Header="Mezzi di Pagamento" Click="Menu_Click" Tag="MEZZIPAGAMENTO" Foreground="Black"/>
            </MenuItem>

            <!-- VARIE con sottomenu -->
            <MenuItem Header="VARIE">
                <MenuItem Header="Vettori" Click="Menu_Click" Tag="VETTORI" Foreground="Black"/>
                <MenuItem Header="Vivai" Foreground="Black">
                    <MenuItem Header="Passaporto Piante CEE Tipo" Click="Menu_Click" Tag="PASSAPORTOCEETIPO" Foreground="Black"/>
                    <MenuItem Header="Passaporto Piante CEE Numerazioni" Click="Menu_Click" Tag="PASSAPORTOCOENUMERAZIONI" Foreground="Black"/>
                    <MenuItem Header="Specie Botaniche" Click="Menu_Click" Tag="SPECIEBOTANICHE" Foreground="Black"/>
                    <MenuItem Header="Varietà" Click="Menu_Click" Tag="VARIETA" Foreground="Black"/>
                    <MenuItem Header="Portinnesto" Click="Menu_Click" Tag="PORTINNESTO" Foreground="Black"/>
                </MenuItem>
            </MenuItem>
        </Menu>

        <!-- Contenuto principale con TabControl -->
        <TabControl x:Name="MainTabControl" Grid.Row="1" 
                    Background="#FF2D2D30" 
                    BorderBrush="#FF434346"
                    BorderThickness="1">

            <TabControl.Resources>
                <!-- Stile per i Tab Headers -->
                <Style TargetType="TabItem">
                    <Setter Property="Background" Value="#FF3F3F46"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="BorderBrush" Value="#FF434346"/>
                    <Setter Property="BorderThickness" Value="1"/>
                    <Setter Property="Padding" Value="12,8"/>
                    <Setter Property="Margin" Value="0,0,2,0"/>
                    <Setter Property="FontSize" Value="11"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Border x:Name="Border"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="3,3,0,0">
                                    <ContentPresenter x:Name="ContentSite"
                                                      VerticalAlignment="Center"
                                                      HorizontalAlignment="Center"
                                                      ContentSource="Header"
                                                      Margin="{TemplateBinding Padding}"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#FF007ACC"/>
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#FF1177BB"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>

                <!-- DataTemplate per il pulsante di chiusura dei Tab -->
                <DataTemplate x:Key="ClosableTabHeaderTemplate">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding}" Margin="0,0,5,0"/>
                        <Button Content="X"
                        Width="16" Height="16"
                        Padding="0"
                        Margin="5,0,0,0"
                        Click="CloseTab_Click"
                        Tag="{Binding RelativeSource={RelativeSource AncestorType=TabItem}}"/>
                    </StackPanel>
                </DataTemplate>
            </TabControl.Resources>

            <!-- Tab Welcome (mostrato all'avvio) -->
            <TabItem x:Name="WelcomeTab" Header="Menu Principale" IsSelected="True">
                <Grid Background="#FF2D2D30">
                    <TextBlock Text="STORE sql ⇒ TABELLE"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               FontSize="24"
                               Foreground="#FFCCCCCC"
                               FontWeight="Bold"/>
                    <TextBlock Text="Seleziona una categoria dal menu superiore per iniziare"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               Margin="0,60,0,0"
                               FontSize="14"
                               Foreground="#FF999999"/>
                </Grid>
            </TabItem>

        </TabControl>
    </Grid>
</Window>